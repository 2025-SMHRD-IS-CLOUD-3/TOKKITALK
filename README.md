<br>
<br>

# <img width="52" height="52" alt="Image" src="https://github.com/user-attachments/assets/34fbd140-c766-41b5-90e4-bc95042696de" /> 맞춤형 언어(여자어) 인식 어플리케이션   SU:DIVE[수:디브] <img width="52" height="52" alt="Image" src="https://github.com/user-attachments/assets/34fbd140-c766-41b5-90e4-bc95042696de" /><br>
<img width="1466" height="821" alt="Image" src="https://github.com/user-attachments/assets/0aec375a-c6e9-41be-a8dc-b7236cb1f69d" />
<br>
<br>
<br>

## 👀 서비스 소개
* 서비스명 : TOKKI Talk 
* 서비스설명 : 자연어처리 기반 여자어 해석 서비스
<br>
<br>

## <img width="72" height="72" alt="Image" src="https://github.com/user-attachments/assets/cbb693b9-42b5-433d-aafe-a54820058c91" />제안 배경
<img width="1466" height="706" alt="Image" src="https://github.com/user-attachments/assets/de13e74e-b8e1-47ab-aed5-46f8568a081d" />
<br>
<br>

## <img width="72" height="72" alt="Image" src="https://github.com/user-attachments/assets/5c06f023-c54d-4767-a8b6-a790964c22e0" />기대 효과
<img width="1420" height="685" alt="Image" src="https://github.com/user-attachments/assets/f8fb030d-135e-46b5-8e0f-312389d25069" />
<br>
<br>
<br>

## 📅 프로젝트 기간
2025.08.12 ~ 2025.08.28 (2주)
<br>
<br>

## ⭐ 주요 기능
* 기능1 : 회원가입 , 로그인 , 회원정보 저장
* 기능2 : 여자어 해석 모드 선택 
* 기능3 : 스템이 텍스트 입력 또는 이미지 업로드 옵션을 표시
* 기능4 : 표면적 의미 분석/ 감정 및 의도 분석/ 관계,상황 추론/ 대응 방안 제시
* 기능5 : 사용자가 결과를 확인할 수 있는 직관적인 UI로 제공
* 기능6 : 센스고사 테스트 이용 가능
<br>
<br>

## ⛏ 기술스택
<table>
    <tr>
        <th>구분</th>
        <th>내용</th>
    </tr>
    <tr>
        <td>사용언어</td>
        <td>
            <img src="https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=java&logoColor=white"/>
            <img src="https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=HTML5&logoColor=white"/>
            <img src="https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=CSS3&logoColor=white"/>
            <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>라이브러리</td>
        <td>
            <img src="https://img.shields.io/badge/BootStrap-7952B3?style=for-the-badge&logo=BootStrap&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>개발도구</td>
        <td>
            <img src="https://img.shields.io/badge/Eclipse-2C2255?style=for-the-badge&logo=Eclipse&logoColor=white"/>
            <img src="https://img.shields.io/badge/VSCode-007ACC?style=for-the-badge&logo=VisualStudioCode&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>서버환경</td>
        <td>
            <img width="auto" height="30" alt="Image" src="https://github.com/user-attachments/assets/e70c4506-cf39-444d-ab9a-2fe991d47235" />
        </td>
    </tr>
    <tr>
        <td>데이터베이스</td>
        <td>
            <img src="https://img.shields.io/badge/Oracle 11g-F80000?style=for-the-badge&logo=Oracle&logoColor=white"/>
			<img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>협업도구</td>
        <td>
            <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"/>
            <img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>
        </td>
    </tr>
</table>


<br>

## ⚙ 시스템 아키텍처(구조) 예시 
<img width="1469" height="725" alt="Image" src="https://github.com/user-attachments/assets/01c1b4e5-81ec-4732-840b-9196a32b6410" />

<img width="1452" height="720" alt="Image" src="https://github.com/user-attachments/assets/ed5c59e9-fc4e-4c90-af5c-dc4234fc0900" />
<br>
<br>

## 📌 SW유스케이스
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/e5c17ef1-2414-4bb2-8def-6763cdf71bc3" />
<br>

## 📌 서비스 흐름도
<img width="1463" height="690" alt="Image" src="https://github.com/user-attachments/assets/d5b92b65-c156-4410-919e-5052552a071e" />
<br>

## 📌 ER다이어그램
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/fa9bab75-028f-4e8e-a4d4-848206518aca" />
<br>

## 🖥 화면 구성

### 시작화면/로그인/회원가입/메인페이지/마이페이지/회원정보

<br><br>

<td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/fb0b52b6-5de2-4966-8bcd-ae624a68c082" /></td>
<br>
<br><br>
<td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/76ed6189-7773-4932-896d-d48b5a3694a4" /></td>
<br>
<br><br>
<td></td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/4f04fefa-c255-4a51-98df-ba64dfafd30e" /></td>
<br>
<br><br>
<img width="930" height="639" alt="Image" src="https://github.com/user-attachments/assets/29bcc879-93a3-407a-8e51-eb6f65a8854a" />

<img width="933" height="713" alt="Image" src="https://github.com/user-attachments/assets/5da2ac5a-e58b-454e-adab-1c6ea9ed0ce9" />
<br>
<br>
<br>
<img width="1334" height="655" alt="Image" src="https://github.com/user-attachments/assets/a85f6a97-3ff0-4a59-b109-6fa666cc1322" />
<br>

<br>
<br>


## <img width="72" height="72" alt="image" src="https://github.com/user-attachments/assets/7ed2e160-3124-4386-a929-0f87d5e267d7" /> 시연 영상
https://github.com/user-attachments/assets/ea1d59ca-85c7-47c0-aeb1-d77b98917170
<br>
<br>
<br>
<br>
<br>

## <img width="72" height="72" alt="Image" src="https://github.com/user-attachments/assets/431337c1-9a24-4868-ac9e-9ba1556f499d" />참고 문헌
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/4cbb4270-6279-4cd4-9c24-1c68cfb311d9" />
<br>
<br>
<br>
<br>
<br>



## 👨‍👩‍👦‍👦 팀원 역할
<table>
<img width="1469" height="784" alt="Image" src="https://github.com/user-attachments/assets/95b1bf55-5953-4ff4-9f64-30ac65fcd2cd" />
</table>
<br>
<br>
<br>

## 🤾‍♂️ 트러블슈팅<br>

  
  
 **문제1 JSON 기반 텍스트·이미지 전송 오류**

	현상
	히스토리 저장 시, 사용자가 입력한 텍스트와 이미지 파일을 하나의 요청으로 동시에 서버에 전송하는데 실패했습니다. 
 	텍스트만 보내는 것은 가능했지만, 두 가지 종류의 데이터를 JSON 객체에 담아 전송했을 때 서버가 데이터를 전혀 인식하지 
  	못하는 문제가 발생했습니다.

	원인분석
	웹의 표준 JSON 형식은 기본적으로 텍스트 데이터를 다루기 위해 설계되었습니다. 
 	이미지와 같은 바이너리(Binary) 데이터는 JSON에 직접 포함시킬 수 없어 데이터 형식이 일치하지 않았고, 
  	이 때문에 서버의 Controller(Servlet)가 요청을 제대로 해석하지 못하고 있었습니다.

	해결 
	1. 데이터 형식 통일 (Base64 인코딩)  
	문제 해결의 핵심은 전송하려는 모든 데이터를 서버가 이해할 수 있는 텍스트 형태로 통일하는 것이었습니다. 
 	JavaScript의 FileReader API를 사용하여 이미지 파일을 읽고, Base64 인코딩을 통해 긴 텍스트 문자열로 변환했습니다.  
	2. 단일 JSON 객체로 구조화  
	이미지가 텍스트로 변환되자, 기존의 텍스트 메시지와 함께 { "text": "...", "image": "..." }와 같은 하나의 JSON 
  	객체로 묶어 전송하는 것이 가능해졌습니다.  
	3. 서버 수신 로직 수정  
	Back-End의 SaveHistoryServlet이 JSON 데이터를 올바르게 수신하고 처리할 수 있도록, request.getReader()로 요청 
 	본문을 직접 읽고 Gson 라이브러리를 사용해 파싱하도록 로직을 수정했습니다.

**문제2 히스토리 UI 깨짐 (대화 순서 오류)**

	현상
	히스토리 페이지에서 하나의 질문과 답변 세트인 사용자 메시지와 AI의 답변이 서로 다른 대화 그룹으로 분리되어 표시되는 
 	UI 오류가 발생했습니다.

	원인분석
	문제의 근본적인 원인은 불안정한 정렬(Unstable Sort)이었습니다. 사용자가 메시지를 보내고 AI가 1초 이내에 답변하면, 
 	두 메시지의 생성 시간(created_at)이 동일하게 기록될 수 있습니다. JavaScript의 sort() 함수는 정렬 기준값이 동일한 
  	요소들의 상대적인 순서를 보장하지 않기 때문에, AI 답변이 사용자 메시지보다 먼저 정렬되는 경우가 발생했습니다. 
   	대화 그룹을 묶는 로직이 AI 답변을 기준으로 하고 있었기 때문에, 이 순서가 뒤바뀌면서 UI가 깨졌습니다.

	해결  
	1. 정렬 기준 재설계  
	시간(created_at)만으로는 정렬의 안정성을 확보할 수 없다고 판단했습니다. 
 	따라서 고유하고 순차적인 chat_id를 2차 정렬 기준으로 사용하기로 결정했습니다.  
	2. 안정 정렬(Stable Sort) 구현  
	History.js의 groupByConversation 함수 내 sort() 비교 로직을 수정했습니다. 
 	먼저 created_at을 기준으로 오름차순 정렬합니다. 
  	만약 created_at 값이 서로 같다면, chat_id를 기준으로 다시 오름차순 정렬하도록 로직을 추가했습니다.  
  	3. UI 무결성 확보  
	이 2단계 정렬 방식을 통해, 동일한 시간에 생성된 메시지라도 항상 chat_id 순서에 따라 올바른 순서
 	(사용자 → AI 답변)를 유지하게 되었습니다. 
  	이로써 대화 그룹이 항상 정확하게 묶이도록 하여 UI 깨짐 현상을 완벽하게 해결했습니다.

<br>
<br>
<br>
<img width="1467" height="791" alt="image" src="https://github.com/user-attachments/assets/ee1dc791-74da-432b-9242-2dd74b231246" /><br><br><br><br><br>
