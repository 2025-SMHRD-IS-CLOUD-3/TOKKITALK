

# <img width="52" height="52" alt="Image" src="https://github.com/user-attachments/assets/34fbd140-c766-41b5-90e4-bc95042696de" /> 맞춤형 언어(여자어) 인식 어플리케이션   SU:DIVE[수:디브] <img width="52" height="52" alt="Image" src="https://github.com/user-attachments/assets/34fbd140-c766-41b5-90e4-bc95042696de" />
<img width="1466" height="821" alt="Image" src="https://github.com/user-attachments/assets/0aec375a-c6e9-41be-a8dc-b7236cb1f69d" />


## 👀 서비스 소개
* 서비스명 : TOKKI Talk 
* 서비스설명 : 자연어처리 기반 여자어 해석 서비스
<br>
<br>

## <img width="72" height="72" alt="Image" src="https://github.com/user-attachments/assets/cbb693b9-42b5-433d-aafe-a54820058c91" />제안 배경
<img width="1466" height="706" alt="Image" src="https://github.com/user-attachments/assets/de13e74e-b8e1-47ab-aed5-46f8568a081d" />
<br>
<br>

## <img width="72" height="72" alt="Image" src="https://github.com/user-attachments/assets/5c06f023-c54d-4767-a8b6-a790964c22e0" />기대 효과
<img width="1420" height="685" alt="Image" src="https://github.com/user-attachments/assets/f8fb030d-135e-46b5-8e0f-312389d25069" />
<br>
<br>
<br>

## 📅 프로젝트 기간
2025.08.12 ~ 2025.08.28 (2주)
<br>
<br>

## ⭐ 주요 기능
* 기능1 : 회원가입 , 로그인 , 회원정보 저장
* 기능2 : 여자어 해석 모드 선택 
* 기능3 : 스템이 텍스트 입력 또는 이미지 업로드 옵션을 표시
* 기능4 : 표면적 의미 분석/ 감정 및 의도 분석/ 관계,상황 추론/ 대응 방안 제시
* 기능5 : 사용자가 결과를 확인할 수 있는 직관적인 UI로 제공
* 기능6 : 센스고사 테스트 이용 가능
<br>
<br>

## ⛏ 기술스택
<table>
    <tr>
        <th>구분</th>
        <th>내용</th>
    </tr>
    <tr>
        <td>사용언어</td>
        <td>
            <img src="https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=java&logoColor=white"/>
            <img src="https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=HTML5&logoColor=white"/>
            <img src="https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=CSS3&logoColor=white"/>
            <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>라이브러리</td>
        <td>
            <img src="https://img.shields.io/badge/BootStrap-7952B3?style=for-the-badge&logo=BootStrap&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>개발도구</td>
        <td>
            <img src="https://img.shields.io/badge/Eclipse-2C2255?style=for-the-badge&logo=Eclipse&logoColor=white"/>
            <img src="https://img.shields.io/badge/VSCode-007ACC?style=for-the-badge&logo=VisualStudioCode&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>서버환경</td>
        <td>
            <img width="auto" height="30" alt="Image" src="https://github.com/user-attachments/assets/e70c4506-cf39-444d-ab9a-2fe991d47235" />
        </td>
    </tr>
    <tr>
        <td>데이터베이스</td>
        <td>
            <img src="https://img.shields.io/badge/Oracle 11g-F80000?style=for-the-badge&logo=Oracle&logoColor=white"/>
			<img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>협업도구</td>
        <td>
            <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"/>
            <img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>
        </td>
    </tr>
</table>


<br>

## ⚙ 시스템 아키텍처(구조) 예시 
<img width="1469" height="725" alt="Image" src="https://github.com/user-attachments/assets/01c1b4e5-81ec-4732-840b-9196a32b6410" />

<img width="1452" height="720" alt="Image" src="https://github.com/user-attachments/assets/ed5c59e9-fc4e-4c90-af5c-dc4234fc0900" />
<br>
<br>

## 📌 SW유스케이스
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/e5c17ef1-2414-4bb2-8def-6763cdf71bc3" />
<br>

## 📌 서비스 흐름도
<img width="1463" height="690" alt="Image" src="https://github.com/user-attachments/assets/d5b92b65-c156-4410-919e-5052552a071e" />
<br>

## 📌 ER다이어그램
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/fa9bab75-028f-4e8e-a4d4-848206518aca" />
<br>

## 🖥 화면 구성

### 시작화면/로그인/회원가입/메인페이지/마이페이지/회원정보

<br><br>

<td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/fb0b52b6-5de2-4966-8bcd-ae624a68c082" /></td>
<br>
<br><br>
<td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/76ed6189-7773-4932-896d-d48b5a3694a4" /></td>
<br>
<br><br>
<td></td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/4f04fefa-c255-4a51-98df-ba64dfafd30e" /></td>
<br>
<br><br>
<img width="930" height="639" alt="Image" src="https://github.com/user-attachments/assets/29bcc879-93a3-407a-8e51-eb6f65a8854a" />

<img width="933" height="713" alt="Image" src="https://github.com/user-attachments/assets/5da2ac5a-e58b-454e-adab-1c6ea9ed0ce9" />
<br>
<br>
<br>
<img width="1334" height="655" alt="Image" src="https://github.com/user-attachments/assets/a85f6a97-3ff0-4a59-b109-6fa666cc1322" />
<br>

<br>
<br>


## <img width="72" height="72" alt="image" src="https://github.com/user-attachments/assets/7ed2e160-3124-4386-a929-0f87d5e267d7" /> 시연 영상
https://github.com/user-attachments/assets/ea1d59ca-85c7-47c0-aeb1-d77b98917170
<br>
<br>
<br>
<br>
<br>

## <img width="72" height="72" alt="Image" src="https://github.com/user-attachments/assets/431337c1-9a24-4868-ac9e-9ba1556f499d" />참고 문헌
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/4cbb4270-6279-4cd4-9c24-1c68cfb311d9" />
<br>
<br>
<br>
<br>
<br>



## 👨‍👩‍👦‍👦 팀원 역할
<table>
<img width="1469" height="784" alt="Image" src="https://github.com/user-attachments/assets/95b1bf55-5953-4ff4-9f64-30ac65fcd2cd" />
</table>
<br>
<br>
<br>

## 🤾‍♂️ 트러블슈팅<br>

  
  
* 문제1<br>
    사용자가 이미지 파일을 첨부했을 때, 이미지 데이터가 서버로 제대로 전송되지않음.<br>
	서버는 이미지 데이터가 비어 있는 상태로 인식하여 OCR 분석을 실패

      클래스 :  question.html 내 <script> 태그

      원인   :  JavaScript의 FileReader를 사용하여 이미지를 Base64 문자열로 변환하는 작업은 비동기
      	        (asynchronous)적으로 실행
    	        기존 코드는 FileReader의 변환 작업이 완료되기를 기다리지 않고, 변환이 끝나기 전에 
      	        바로 서버로 분석 요청을 보냈습니다. 이 때문에 Base64 데이터가 담기지 않은 채로 
      	        요청이 전송되는 문제가 발생했습니다.

      해결   :  Promise와 async/await을 사용하여 비동기 파일 변환 작업이 완료된 후 데이터를 전송
          	    하도록 코드를 수정.

      결과   :  이미지 파일이 완전히 Base64로 변환된 후에야 서버에 요청이 전송되게 되었습니다. 
                이로 인해 이미지 데이터 손실 없이 안정적으로 OCR 분석을 수행할 수 있게 되어 
          	    기능이 정상적으로 작동하게 되었습니다.
 


* 문제2<br>
    DB 저장 문제 : 타입 불일치 및 메시지 누락<br>
    작업 내용    : 히스토리 저장 기능에서 user의 메시지는 정상 저장되지만, assistant 상담 결과가 올바르게 저장되지 않는 문제가 발생.<br>
                  chat_history 테이블에서 assistant 레코드가 생성되긴 했으나, 실제 상담 결과가 아닌 다른 형태의 잘못된 값이 저장됨.<br>
                  analysis 테이블의 USER_ID는 NUMBER, chat_history 테이블의 USER_ID는 <br>
                  VARCHAR2 → 타입 불일치로 저장 과정에서 충돌 발생.

       클래스 :  SaveHistoryServlet, AnalysisMapper.xml

       원인   :  assistantMessage 문자열이 DB 저장 전에 올바르게 생성되지 않아 누락됨.
                 AnalysisDAO.saveToChatHistory 호출 시 파라미터 매핑이 일부 누락되어 잘못된 값이 저장됨.
  
       해결   :  analysis와 chat_history 테이블의 USER_ID 타입을 VARCHAR2로 통일.
                 assistantMessage 값이 null/빈 문자열일 때 기본 메시지를 설정하도록 보정.
                 AnalysisDAO.saveToChatHistory 호출 시 파라미터 매핑을 보완하여 정상전달 되도록 수정.

       결과   :  assistant 메시지가 실제 분석 결과 문자열로 정상 저장됨.
                 user와 assistant의 대화 모두 chat_history에 기록되어 히스토리 기능이 정상 동작.
                 USER_ID 타입 불일치 문제도 해결되어 저장 오류가 발생하지 않음.



<br>
<br>
<br>
<img width="1467" height="791" alt="image" src="https://github.com/user-attachments/assets/ee1dc791-74da-432b-9242-2dd74b231246" />
