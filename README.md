

# 📎 맞춤형 언어(여자어) 인식 어플리케이션   SU:DIVE[수:디브] 
<img width="500" height="500" alt="Image" src="https://github.com/user-attachments/assets/fc5ee352-70f8-45c1-81f3-d8c0363f3858" />


## 👀 서비스 소개
* 서비스명 : TOKKI Talk 
* 서비스설명 : 자연어처리 기반 여자어 해석 서비스
<br>

## 📅 프로젝트 기간
2025.08.12 ~ 2025.08.28 (2주)
<br>

## ⭐ 주요 기능
* 기능1 : 회원가입 , 로그인 , 회원정보 저장
* 기능2 : 여자어 해석 모드 선택 
* 기능3 : 스템이 텍스트 입력 또는 이미지 업로드 옵션을 표시
* 기능4 : 표면적 의미 분석/ 감정 및 의도 분석/ 관계,상황 추론/ 대응 방안 제시
* 기능5 : 사용자가 결과를 확인할 수 있는 직관적인 UI로 제공
* 기능6 : 센스고사 테스트 이용 가능
<br>

## ⛏ 기술스택
<table>
    <tr>
        <th>구분</th>
        <th>내용</th>
    </tr>
    <tr>
        <td>사용언어</td>
        <td>
            <img src="https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=java&logoColor=white"/>
            <img src="https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=HTML5&logoColor=white"/>
            <img src="https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=CSS3&logoColor=white"/>
            <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>라이브러리</td>
        <td>
            <img src="https://img.shields.io/badge/BootStrap-7952B3?style=for-the-badge&logo=BootStrap&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>개발도구</td>
        <td>
            <img src="https://img.shields.io/badge/Eclipse-2C2255?style=for-the-badge&logo=Eclipse&logoColor=white"/>
            <img src="https://img.shields.io/badge/VSCode-007ACC?style=for-the-badge&logo=VisualStudioCode&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>서버환경</td>
        <td>
            <img width="auto" height="30" alt="Image" src="https://github.com/user-attachments/assets/e70c4506-cf39-444d-ab9a-2fe991d47235" />
        </td>
    </tr>
    <tr>
        <td>데이터베이스</td>
        <td>
            <img src="https://img.shields.io/badge/Oracle 11g-F80000?style=for-the-badge&logo=Oracle&logoColor=white"/>
			<img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"/>
        </td>
    </tr>
    <tr>
        <td>협업도구</td>
        <td>
            <img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white"/>
            <img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/>
        </td>
    </tr>
</table>


<br>

## ⚙ 시스템 아키텍처(구조) 예시 
![서비스 아키텍처2](https://github.com/user-attachments/assets/da05c1c8-ce92-473f-8840-2cbfc1a191e2)
<br>

## 📌 SW유스케이스
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/d92fef91-c254-4aa3-8a12-ed140d827699" />
<br>

## 📌 서비스 흐름도
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/644506a5-6b4b-4d26-8a61-ddb9dedb8f2a" />
<br>

## 📌 ER다이어그램
<img width="600" height="600" alt="Image" src="https://github.com/user-attachments/assets/fa9bab75-028f-4e8e-a4d4-848206518aca" />
<br>

## 🖥 화면 구성

### 시작화면/로그인/회원가입/메인페이지/마이페이지/회원정보

<br><br>

<td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/fb0b52b6-5de2-4966-8bcd-ae624a68c082" /></td>
<br>
<br><br>
<td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/76ed6189-7773-4932-896d-d48b5a3694a4" /></td>
<br>
<br><br>
<td></td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/4f04fefa-c255-4a51-98df-ba64dfafd30e" /></td>
<br>
<br><br>
<td></td><img width="400" height="400" alt="Image" src="https://github.com/user-attachments/assets/ca880a2e-e47f-4e96-8406-307ab5147d8a" /></td>
<br>
<br><br>
<img width="300" height="300" alt="Image" src="https://github.com/user-attachments/assets/fb98aa7e-0d4a-421e-9c43-63125a381f19" />

<img width="50" height="50" alt="Image" src="https://github.com/user-attachments/assets/cca0882d-0c6a-497e-b9d9-78824173b1a8" />

<img width="300" height="300" alt="Image" src="https://github.com/user-attachments/assets/e1a16774-3c00-4ec2-a3cd-1fcd43f8060e" />
<br>
<br>


## 👨‍👩‍👦‍👦 팀원 역할
<table>
  <tr>
    <td align="center"><img width="100" height="100" alt="Image" src="https://github.com/user-attachments/assets/e84232a4-7407-466f-a8e7-c0cc41b11467" /></td>
    <td align="center"><img width="100" height="100" alt="Image" src="https://github.com/user-attachments/assets/f8ead41c-4281-41c2-be39-47830330061d" /></td>
    <td align="center"><img width="100" height="100" alt="Image" src="https://github.com/user-attachments/assets/072a27d5-0e96-4677-96ac-8493c46a6971" /></td>
    <td align="center"><img width="100" height="100" alt="Image" src="https://github.com/user-attachments/assets/1ee8f066-22a4-46a5-ad2c-6a7baac3cb83" /></td>
    <td align="center"><img width="100" height="100" alt="Image" src="https://github.com/user-attachments/assets/e5e89e3a-ef7b-4dc4-a487-57d0c75fce16" /></td>
  </tr>
  <tr>
    <td align="center"><strong>윤수</strong></td>
    <td align="center"><strong>동민</strong></td>
    <td align="center"><strong>소민</strong></td>
    <td align="center"><strong>종민</strong></td>
    <td align="center"><strong>동환</strong></td>
  </tr>
  <tr>
    <td align="center"><b>데이터 크롤링, 기획서 작성</b></td>
    <td align="center"><b>모든작업 문서화, DB 연결</b></td>
    <td align="center"><b>팀원 및 프로젝트진행 총괄, 기획서 및 산출문서 총괄, 아이디어 도출, 데이터 전처리 및 학습, API 연동</b></td>
    <td align="center"><b>웹페이지 구현 (마이페이지, 센스고사)</b></td>
    <td align="center"><b>웹페이지 구현 (메인페이지, 로그인, 회원 가입)</b></td>
  </tr>
	<br>
  <tr>
    <td align="center"><a href="https://github.com/2025-SMHRD-IS-CLOUD-3/TOKKITALK" target='_blank'><img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/></a></td>
    <td align="center"><a href="https://github.com/2025-SMHRD-IS-CLOUD-3/TOKKITALK" target='_blank'><img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/></a></td>
    <td align="center"><a href="https://github.com/2025-SMHRD-IS-CLOUD-3/TOKKITALK" target='_blank'><img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/></a></td>
    <td align="center"><a href="https://github.com/2025-SMHRD-IS-CLOUD-3/TOKKITALK" target='_blank'><img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/></a></td>
    <td align="center"><a href="https://github.com/2025-SMHRD-IS-CLOUD-3/TOKKITALK" target='_blank'><img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/></a></td>
  </tr>
</table>
<br>
<br>
<br>

## 🤾‍♂️ 트러블슈팅<br>

  
  
* 문제1<br>
    사용자가 이미지 파일을 첨부했을 때, 이미지 데이터가 서버로 제대로 전송되지않음.<br>
	서버는 이미지 데이터가 비어 있는 상태로 인식하여 OCR 분석을 실패

      클래스 :  question.html 내 <script> 태그

      원인   :  JavaScript의 FileReader를 사용하여 이미지를 Base64 문자열로 변환하는 작업은 비동기
      	        (asynchronous)적으로 실행
    	        기존 코드는 FileReader의 변환 작업이 완료되기를 기다리지 않고, 변환이 끝나기 전에 
      	        바로 서버로 분석 요청을 보냈습니다. 이 때문에 Base64 데이터가 담기지 않은 채로 
      	        요청이 전송되는 문제가 발생했습니다.

      해결   :  Promise와 async/await을 사용하여 비동기 파일 변환 작업이 완료된 후 데이터를 전송
          	    하도록 코드를 수정.

      결과   :  이미지 파일이 완전히 Base64로 변환된 후에야 서버에 요청이 전송되게 되었습니다. 
                이로 인해 이미지 데이터 손실 없이 안정적으로 OCR 분석을 수행할 수 있게 되어 
          	    기능이 정상적으로 작동하게 되었습니다.
 


* 문제2<br>
    DB 저장 문제 : 타입 불일치 및 메시지 누락<br>
    작업 내용    : 히스토리 저장 기능에서 user의 메시지는 정상 저장되지만, assistant 상담 결과가 올바르게 저장되지 않는 문제가 발생.<br>
                  chat_history 테이블에서 assistant 레코드가 생성되긴 했으나, 실제 상담 결과가 아닌 다른 형태의 잘못된 값이 저장됨.<br>
                  analysis 테이블의 USER_ID는 NUMBER, chat_history 테이블의 USER_ID는 <br>
                  VARCHAR2 → 타입 불일치로 저장 과정에서 충돌 발생.

       클래스 :  SaveHistoryServlet, AnalysisMapper.xml

       원인   :  assistantMessage 문자열이 DB 저장 전에 올바르게 생성되지 않아 누락됨.
                 AnalysisDAO.saveToChatHistory 호출 시 파라미터 매핑이 일부 누락되어 잘못된 값이 저장됨.
  
       해결   :  analysis와 chat_history 테이블의 USER_ID 타입을 VARCHAR2로 통일.
                 assistantMessage 값이 null/빈 문자열일 때 기본 메시지를 설정하도록 보정.
                 AnalysisDAO.saveToChatHistory 호출 시 파라미터 매핑을 보완하여 정상전달 되도록 수정.

       결과   :  assistant 메시지가 실제 분석 결과 문자열로 정상 저장됨.
                 user와 assistant의 대화 모두 chat_history에 기록되어 히스토리 기능이 정상 동작.
                 USER_ID 타입 불일치 문제도 해결되어 저장 오류가 발생하지 않음.

